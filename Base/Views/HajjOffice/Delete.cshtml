@model Base.Model1.HajjOffice

@{
    ViewBag.Title = "حذف مكتب خدمة";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<br />
<br />
<br />
<div class="container mt-5">
    <div class="row justify-content-center">
        <div class="col-md-6">
            <div class="card shadow-lg border-0">
                <div class="card-header bg-dark text-white">
                    <h4 class="text-center">تأكيد الحذف</h4>
                </div>
                <div class="card-body text-center">
                    <h5>هل أنت متأكد أنك تريد حذف هذا المكتب؟</h5>
                    <h5 class="text-danger mt-3">@Model.OfficeName</h5>
                </div>
                <div class="card-footer text-right">
                    <button id="deleteButton" class="btn btn-danger btn-lg px-4">حذف</button>
                    @Html.ActionLink("إلغاء", "Index", null, new { @class = "btn btn-secondary btn-lg px-4 ml-3" })
                </div>
            </div>
        </div>
    </div>
</div>

@section Scripts {
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script>
        document.getElementById('deleteButton').onclick = function (event) {
            event.preventDefault(); // Prevent the default action

            // SweetAlert2 confirmation dialog
            Swal.fire({
                title: 'هل أنت متأكد؟',
                text: "هذا سيؤدي إلى حذف المكتب بشكل دائم!",
                icon: 'warning',
                showCancelButton: true,
                confirmButtonColor: '#d33',
                cancelButtonColor: '#3085d6',
                confirmButtonText: 'نعم، احذفها!',
                cancelButtonText: 'إلغاء'
            }).then((result) => {
                if (result.isConfirmed) {
                    // If confirmed, submit the form
                    const form = document.createElement('form');
                    form.method = 'post';
                    form.action = '@Url.Action("Delete", "HajjOffice")'; // Specify the action URL

                    const hiddenInput = document.createElement('input');
                    hiddenInput.type = 'hidden';
                    hiddenInput.name = 'id';
                    hiddenInput.value = '@Model.ID'; // Use the model ID

                    form.appendChild(hiddenInput);
                    document.body.appendChild(form);
                    form.submit();
                }
            });
        };
    </script>
}
